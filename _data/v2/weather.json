{
  "name": "Weather Module",
  "url": "/v2/weather",
  "description": "Retrieves weather for any given location using one of three weather providers",
  "notes": null,
  "parameters": [{
      "key": "weather.lat",
      "required": "Yes",
      "description": "Latitude for the location you wish to obtain weather for",
      "type": ["float"],
      "default": null,
      "range": [-180, 180]
    },
    {
      "key": "weather.long",
      "required": "Yes",
      "description": "Longitude for the location you wish to obtain weather for",
      "type": ["float"],
      "default": null,
      "range": [-90, 90]
    },
    {
      "key": "weather.provider",
      "required": false,
      "description": "Which weather provider to use",
      "type": ["string"],
      "default": "metno",
      "values": ["metno", "owm", "darksky"]
    },
    {
      "key": "weather.apikey",
      "required": "Yes if provider is `owm` / `darksky`",
      "description": "The API key to use for the given weather provider, if the provider requires it",
      "type": ["string"],
      "default": null,
      "values": null
    },
    {
      "key": "weather.forecast",
      "required": false,
      "description": "If true, returns a weather forecast instead of the current weather",
      "type": ["boolean"],
      "default": "false",
      "values": ["true", "false"]
    }
  ],
  "returns": [{
    "key": "type",
    "description": "The type of weather data this is",
    "type": ["string"],
    "values": ["current", "forecast"],
    "notes": null,
  }, {
    "key": "temperature",
    "description": "Temperature in C or F, depending on [Format Options](/v2/formats).",
    "type": ["string"],
    "values": "32",
    "notes": null,
  }, {
    "key": "rain",
    "description": "The amount of rain in `in` or `mm`, depending on [Format Options](/v2/formats).",
    "type": ["integer"],
    "values": "1",
    "notes": null,
  }, {
    "key": "cloud",
    "description": "The amount of cloud cover as a percentage",
    "type": ["integer"],
    "values": "10",
    "notes": null,
  }, {
    "key": "description",
    "description": "A short description of the weather. Not used by `metno`",
    "type": ["string"],
    "values": "Cloudy",
    "notes": null,
  }, {
    "key": "wind",
    "description": "An array containing information about the wind",
    "type": ["array"],
    "values": null,
    "notes": null,
  }, {
    "key": "wind.speed",
    "description": "The winspeed in km/h or mph, depending on [Format Options](/v2/formats).",
    "type": ["integer"],
    "values": 10,
    "notes": null,
  }, {
    "key": "wind.direction",
    "description": "The direction of the wind as an integer",
    "type": ["integer"],
    "values": 45,
    "notes": null,
  }, {
    "key": "wind.direction_text",
    "description": "The wind direction as text",
    "type": ["string"],
    "values": ["N", "NNE", "NE", "ENE", "E", "ESE", "SE", "SSE", "S", "SSW", "SW", "WSW", "W", "WNW", "NW", "NNW", null],
    "notes": null,
  }, {
    "key": "units",
    "description": "An array containing unit-specific strings (e.g. 'km/h'or 'mph')",
    "type": ["array"],
    "values": null,
    "notes": null,
  }, {
    "key": "units.temperature",
    "description": "What unit of measurement this temperature is in",
    "type": ["string"],
    "values": ["C", "F"],
    "notes": null,
  }, {
    "key": "units.rain",
    "description": "What unit of measurement this rainfall value is in",
    "type": ["string"],
    "values": ["mm", "in"],
    "notes": null,
  }, {
    "key": "units.wind",
    "description": "What unit of measurement this windspeed is in",
    "type": ["string"],
    "values": ["km/h", "mph"],
    "notes": null,
  }, {
    "key": "icon",
    "description": "A provider-specific icon",
    "type": ["string"],
    "values": "04e",
    "notes": "Icon info: [owm](https://openweathermap.org/weather-conditions), [metno](https://api.met.no/weatherapi/weathericon/1.1/documentation), [darksky](https://darksky.net/dev/docs)",
  }, {
    "key": "id",
    "description": "A provider-specific id. Usually a numeric representation of the current weather",
    "type": ["string"],
    "values": null,
    "notes": "This value will be the same as `icon` when using `darksky` as the provider",
  }, {
    "key": "date",
    "description": "The date and time this weather data applies to. Timezone can be set with [Format Options](/v2/formats)",
    "type": ["string"],
    "values": "2019-01-24T12:00:00+00:00",
    "notes": "",
  }],
  "demo": [{
      "name": "Get weather",
      "description": "Gets the current weather for a single location",
      "input": {
        "weather": {
          "lat": 40.7128,
          "long": -74.0060
        }
      },
      "output": {
        "provider": "metno",
        "type": ["current"],
        "date": "2019-01-24T12:00:00+00:00",
        "request_date": "2019-01-24T11:01:52+00:00",
        "temperature": 10.9,
        "rain": 0,
        "cloud": 100,
        "description": null,
        "wind": {
          "speed": 8.1,
          "direction": "189.4",
          "direction_text": "S"
        },
        "units": {
          "temperature": "C",
          "rain": "mm",
          "wind": "km/h"
        },
        "icon": null,
        "id": null
      }
    },
    {
      "name": "Get forecast",
      "description": "Gets the weather forecast for a single location. Demo output has been truncated for brevity",
      "input": {
        "weather": {
          "lat": 40.7128,
          "long": -74.0060,
          "forecast": true
        }
      },
      "output": [{
          "provider": "metno",
          "type": "forecast",
          "date": "2019-01-27T03:00:00+00:00",
          "request_date": "2019-01-27T02:42:28+00:00",
          "temperature": -2.8,
          "rain": 0,
          "cloud": 0,
          "description": null,
          "wind": {
            "speed": 2.3,
            "direction": "121.6",
            "direction_text": "ESE"
          },
          "units": {
            "temperature": "C",
            "rain": "mm",
            "wind": "km/h"
          },
          "icon": null,
          "id": null
        },
        {
          "provider": "metno",
          "type": "forecast",
          "date": "2019-01-27T02:00:00+00:00",
          "request_date": "2019-01-27T02:42:28+00:00",
          "temperature": 0,
          "rain": 0,
          "cloud": 0,
          "description": null,
          "wind": {
            "speed": 0,
            "direction": null,
            "direction_text": "N"
          },
          "units": {
            "temperature": "C",
            "rain": "mm",
            "wind": "km/h"
          },
          "icon": "1",
          "id": "Sun"
        }
      ]
    }
  ]
}
